<!DOCTYPE html> 
<html lang="zh-cn"> 
<head> 
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" /> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
<title></title> 
<style type="text/css"> 
*{ 
height: 100%; //设置高度，不然会显示不出来 
} 
</style> 
<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script> 
<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=WLOqkkobfdvnA6BYB0CMhc4k"></script> 
<script type="text/javascript" src="http://developer.baidu.com/map/jsdemo/demo/convertor.js"></script> 
<script> 
//定位对象
var geoc = new BMap.Geocoder();
var geolocation = new BMap.Geolocation();
geolocation.getCurrentPosition(function(r){
    if(this.getStatus() == BMAP_STATUS_SUCCESS){
    	 setLocation(r.point);
    }
},{enableHighAccuracy: true});
function setLocation(point){
	
    geoc.getLocation(point, function(rs){
        var addComp = rs.addressComponents;
        console.log(addComp);
        var result = addComp.province + addComp.city + addComp.district + addComp.street + addComp.streetNumber;
        alert(result);
    });
}

</script> 
</head> 
<body> 
<div id="map"></div> 
</body> 
</html> 